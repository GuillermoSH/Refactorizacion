<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EjercicioArrays.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">lista</a> &gt; <a href="index.source.html" class="el_package">es.iespuerto.refactorizacion</a> &gt; <span class="el_source">EjercicioArrays.java</span></div><h1>EjercicioArrays.java</h1><pre class="source lang-java linenums">package es.iespuerto.refactorizacion;

import java.util.*;

public class EjercicioArrays {
    private int maxNota;
    private int minNota;
<span class="fc" id="L8">    private List&lt;Integer&gt; notasControl = null;</span>
<span class="fc" id="L9">    private List&lt;Integer&gt; notasPracticas = null;</span>
<span class="fc" id="L10">    private int[] listaClase = null;</span>

    /**
     * Constructor parametrizado de la clase al que se le introducira el numero de
     * alumnos del que se quiere hacer el estudio de las notas
     * 
     * @param numAlmunos del que se quiere hacer la muestra
     */
<span class="fc" id="L18">    public EjercicioArrays(int numAlumnos) {</span>
<span class="fc" id="L19">        this.notasControl = obtenerNotasAleatorias(numAlumnos);</span>
<span class="fc" id="L20">        this.notasPracticas = obtenerNotasAleatorias(numAlumnos);</span>
<span class="fc" id="L21">        this.listaClase = obtenerListaAlumnado(numAlumnos);</span>
<span class="fc" id="L22">    }</span>

    /**
     * Constructor parametrizado de la clase al que se le introducira dos listas de
     * notas, una de control y otra de practicas para hacer el estudio de las
     * calificaciones
     * 
     * @param notasControl   lista con las notas del alumnado en control
     * @param notasPracticas lista con las notas del alumnado en practicas
     */
<span class="fc" id="L32">    public EjercicioArrays(List&lt;Integer&gt; notasControl, List&lt;Integer&gt; notasPracticas) {</span>
<span class="fc" id="L33">        this.notasControl = notasControl;</span>
<span class="fc" id="L34">        this.notasPracticas = notasPracticas;</span>
<span class="fc" id="L35">        this.listaClase = obtenerListaAlumnado(notasControl.size());</span>
<span class="fc" id="L36">    }</span>

    /**
     * Metodo para la obtencion del alumno que ha obtenido la mayor nota dentro de
     * una lista de notas
     * 
     * @param notas lista con las notas del alumnado
     * @return numero de alumno que ha obtenido la mayor nota
     */
    public int obtenerAluMaxNota(List&lt;Integer&gt; notas) {
<span class="fc" id="L46">        List&lt;Integer&gt; notasOrdenadas = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L47">        notasOrdenadas.addAll(notas);</span>
<span class="fc" id="L48">        Collections.sort(notasOrdenadas, Collections.reverseOrder());</span>
<span class="fc" id="L49">        maxNota = notasOrdenadas.get(0);</span>
<span class="fc" id="L50">        return notas.indexOf(maxNota) + 1;</span>
    }

    /**
     * Metodo para la obtencion del alumno que ha obtenido la menor nota dentro de
     * una lista de notas
     * 
     * @param notas lista con las notas del alumnado
     * @return numero del alumno que ha obtenido la menor nota
     */
    public int obtenerAluMinNota(List&lt;Integer&gt; notas) {
<span class="fc" id="L61">        List&lt;Integer&gt; notasOrdenadas = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L62">        notasOrdenadas.addAll(notas);</span>
<span class="fc" id="L63">        Collections.sort(notasOrdenadas);</span>
<span class="fc" id="L64">        minNota = notasOrdenadas.get(0);</span>
<span class="fc" id="L65">        return notas.indexOf(minNota) + 1;</span>
    }

    /**
     * Metodo de generacion de una lista de enteros con las notas aleatoriamente
     * generadas para cada alumno en la parte de control
     * 
     * @param numAlumnos que se encuentran dentro de la lista
     * @return lista de calificaciones en control
     */
    private List&lt;Integer&gt; obtenerNotasAleatorias(int numAlumnos) {
<span class="fc" id="L76">        List&lt;Integer&gt; notasAleatorias = new ArrayList&lt;&gt;();</span>

<span class="fc bfc" id="L78" title="All 2 branches covered.">        for (int i = 0; i &lt; numAlumnos; i++) {</span>
<span class="fc" id="L79">            notasAleatorias.add((int) (Math.random() * 11));</span>
        }
<span class="fc" id="L81">        return notasAleatorias;</span>
    }

    /**
     * Metodo de generacion de una lista de enteros con las notas aleatoriamente
     * generadas para cada alumno en la parte de practicas
     * 
     * @param numAlumnos que se encuentran dentro de la lista
     * @return lista de calificaciones en practicas
     */
    public int[] obtenerListaAlumnado(int numAlumnos) {
<span class="fc" id="L92">        int[] lista = new int[numAlumnos];</span>
<span class="fc bfc" id="L93" title="All 2 branches covered.">        for (int i = 0; i &lt; numAlumnos; i++) {</span>
<span class="fc" id="L94">            lista[i] = i + 1;</span>
        }
<span class="fc" id="L96">        return lista;</span>
    }

    /**
     * Metodo para la obtencion de un array de doubles con las medias de las
     * calificaciones obtenidas por cada alumno en ambas partes, es decir, en
     * control y en la parte practica (ambas listas del mismo tamanio)
     * 
     * @param notasControl   lista con las notas del alumnado en control
     * @param notasPracticas lista con las notas del alumnado en practicas
     * @return media de las calificaciones obtenidas por el alumnado
     */
    public double[] mediaCalificaciones(List&lt;Integer&gt; notasControl, List&lt;Integer&gt; notasPracticas) {
<span class="fc" id="L109">        double[] mediaCalificaciones = new double[notasControl.size()];</span>

<span class="fc bfc" id="L111" title="All 2 branches covered.">        for (int i = 0; i &lt; notasControl.size(); i++) {</span>
<span class="fc" id="L112">            mediaCalificaciones[i] = (((double) notasControl.get(i)) + ((double) notasPracticas.get(i))) / 2;</span>
        }
<span class="fc" id="L114">        return mediaCalificaciones;</span>
    }

    /**
     * Metodo por el que se obtienen los porcentajes de calificaciones de la lista
     * de notas del alumnado. Ej:
     * [0,1,2,3,4,5,6,7,8,9,10]
     * [1%,3%,10%,2%,4%,12%,20%,15%,18%,10%,5%]
     * 
     * @return array con los porcentajes de las calificaciones
     */
    public double[] porcentajeCalificaciones(List&lt;Integer&gt; notas) {
<span class="fc" id="L126">        double[] porcentajes = new double[11];</span>

<span class="fc bfc" id="L128" title="All 2 branches covered.">        for (int i = 0; i &lt; porcentajes.length; i++) {</span>
<span class="fc" id="L129">            porcentajes[i] = (sumaCalificaciones(notas)[i] / notas.size()) * 100;</span>
        }

<span class="fc" id="L132">        return porcentajes;</span>
    }

    /**
     * Metodo para contar las calificaciones que sean iguales para luego sacar
     * porcentajes de notas en el metodo {@link #sumaCalificaciones(List)}
     * 
     * @param notas lista de notas del alumnado
     * @return array de doubles con la cuenta de calificaciones
     */
    private double[] sumaCalificaciones(List&lt;Integer&gt; notas) {
<span class="fc" id="L143">        double[] sumaNotas = new double[11];</span>

<span class="fc bfc" id="L145" title="All 2 branches covered.">        for (int i = 0; i &lt; sumaNotas.length; i++) {</span>
<span class="fc bfc" id="L146" title="All 2 branches covered.">            for (int j = 0; j &lt; notas.size(); j++) {</span>
<span class="fc bfc" id="L147" title="All 2 branches covered.">                if (notas.get(j) == i) {</span>
<span class="fc" id="L148">                    sumaNotas[i]++;</span>
                }
            }
        }
<span class="fc" id="L152">        return sumaNotas;</span>
    }

    /**
     * Metodo para obtener un array con dos posiciones:
     * · La primera posicion es la cuenta de aprobados
     * · La segunda posicion es la cuenta de suspensos
     * 
     * @param notasControl   lista de notas del alumnado en control
     * @param notasPracticas lista de notas del alumnado en practicas
     * @return array de int con las cuentas de aprobados y suspensos
     */
    public int[] aprobadosYsuspensos(List&lt;Integer&gt; notasControl, List&lt;Integer&gt; notasPracticas) {
<span class="fc" id="L165">        double[] media = mediaCalificaciones(notasControl, notasPracticas);</span>
<span class="fc" id="L166">        int[] aprobadosYsuspensos = new int[2];</span>

<span class="fc bfc" id="L168" title="All 2 branches covered.">        for (int i = 0; i &lt; media.length; i++) {</span>
<span class="fc bfc" id="L169" title="All 2 branches covered.">            if (media[i] &gt;= 5) {</span>
<span class="fc" id="L170">                aprobadosYsuspensos[0]++;</span>
<span class="fc" id="L171">                continue;</span>
            }
<span class="fc" id="L173">            aprobadosYsuspensos[1]++;</span>
        }
<span class="fc" id="L175">        return aprobadosYsuspensos;</span>
    }

    /**
     * Metodo para retornar la informacion sobre las calificaciones de los alumnos
     * de la clase obteniendo estas de la parte practica y la de control. Ademas
     * incluiran las estadisticas de las calificaciones y la cantidad de aprobados y
     * suspensos en la clase basado en la media de las calificaciones en ambas
     * partes de la asignatura
     * 
     * @return String con toda la informacion
     */
    public String imprimirCalificaciones() {
<span class="fc" id="L188">        String resultado = &quot;&quot;;</span>
<span class="fc" id="L189">        resultado += &quot;\nLista de clase:\n&quot; + Arrays.toString(this.listaClase);</span>
<span class="fc" id="L190">        resultado += &quot;\n\nNotas Control:&quot;;</span>
<span class="fc" id="L191">        resultado += &quot;\n · Maxima nota obtenida por el alumno &quot; + obtenerAluMaxNota(this.notasControl) + &quot;: &quot;</span>
<span class="fc" id="L192">                + this.maxNota;</span>
<span class="fc" id="L193">        resultado += &quot;\n · Minima nota obtenida por el alumno &quot; + obtenerAluMinNota(this.notasControl) + &quot;: &quot;</span>
<span class="fc" id="L194">                + this.minNota;</span>
<span class="fc" id="L195">        resultado += &quot;\n · Porcentajes calificaciones:\n    &quot;</span>
<span class="fc" id="L196">                + Arrays.toString(porcentajeCalificaciones(this.notasControl));</span>
<span class="fc" id="L197">        resultado += &quot;\n\nNotas Practicas:&quot;;</span>
<span class="fc" id="L198">        resultado += &quot;\n · Maxima nota obtenida por el alumno &quot; + obtenerAluMaxNota(this.notasPracticas) + &quot;: &quot;</span>
<span class="fc" id="L199">                + this.maxNota;</span>
<span class="fc" id="L200">        resultado += &quot;\n · Minima nota obtenida por el alumno &quot; + obtenerAluMinNota(this.notasPracticas) + &quot;: &quot;</span>
<span class="fc" id="L201">                + this.minNota;</span>
<span class="fc" id="L202">        resultado += &quot;\n · Porcentajes calificaciones:\n    &quot;</span>
<span class="fc" id="L203">                + Arrays.toString(porcentajeCalificaciones(this.notasPracticas));</span>
<span class="fc" id="L204">        resultado += &quot;\nMedia de calificaciones: &quot;</span>
<span class="fc" id="L205">                + Arrays.toString(mediaCalificaciones(this.notasControl, this.notasPracticas));</span>
<span class="fc" id="L206">        resultado += &quot;\nNumero de aprobados: &quot; + aprobadosYsuspensos(this.notasControl, this.notasPracticas)[0];</span>
<span class="fc" id="L207">        resultado += &quot;\nNumero de suspensos: &quot; + aprobadosYsuspensos(this.notasControl, this.notasPracticas)[1];</span>

<span class="fc" id="L209">        return resultado;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>